package snakes;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;
import ch.unibe.jexample.JExample;
import ch.unibe.jexample.Given;
import org.junit.Test;

import org.junit.runner.RunWith;

@RunWith(JExample.class)
public class TrapDoorTest {
	
	private Player jack;
	private Player jill;

	@Test
<<<<<<< HEAD
	public IDie newGame() {
=======
	public IGame newGame() {
>>>>>>> origin/Problemset4
		jack = new Player("Jack");
		jill = new Player("Jill");
		Player[] args = { jack, jill };
		IGame game = new Game(6, args);
		game.setSquareToLargeSquare(4);//had to change the sequence, (no TrapDoor without LargeSquare)
		game.setSquareToTrapDoor(2, 2);
		assertTrue(game.notOver());
		assertTrue(game.firstSquare().isOccupied());
		assertEquals(1, jack.position());
		assertEquals(1, jill.position());
		assertEquals(jack, game.currentPlayer());
		return game;
	}
	
	@Given("newGame")
<<<<<<< HEAD
	public IDie jackToTrapDoor(Game game) {
=======
	public IGame jackToTrapDoor(IGame game) {
>>>>>>> origin/Problemset4
		game.movePlayer(1);
		assertTrue(game.notOver());
		assertEquals(2, jack.position());
		assertEquals(1, jill.position());
		assertEquals(jill, game.currentPlayer());
		return game;
	}
	
	@Given("jackToTrapDoor")
<<<<<<< HEAD
	public IDie jillToTrapDoor(Game game) {
=======
	public IGame jillToTrapDoor(IGame game) {
>>>>>>> origin/Problemset4
		game.movePlayer(1);
		assertTrue(game.notOver());
		assertEquals(4, jack.position());
		assertEquals(4, jill.position());
		assertEquals(jack, game.currentPlayer());
		return game;
	}
	
	//DR AWESOME I like new tests and they even check functionality of the TrapDoor.
	@Given("jillToTrapDoor")
<<<<<<< HEAD
	public IDie checkStrings(Game game){
=======
	public IGame checkStrings(IGame game){
>>>>>>> origin/Problemset4
		assertEquals("[2==>4]", game.getSquare(2).toString());
		assertEquals("[1][2==>4][3][|4|<Jack><Jill>][5][6]", game.toString());
		return game;
	}
}
